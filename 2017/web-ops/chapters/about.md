# 進め方

この研修では、 4人で 1チームになってもらい、目指すべき構成を設計し、インフラを構築してもらいます。4人が作ったRailsアプリケーションから 1つ選択し、そのアプリケーションをホスティングするインフラを構築してもらいます。この研修で作ったインフラは先のモバイル研修でも利用します。また、モバイル研修では2つのモバイルアプリを作成する都合上、このインフラ上で2つのアプリケーションをホスティングする必要があります。それについては[後述](./virtualhost.md)します。
まずは、全員でドキュメントを最後まで読み込み計画を立てましょう。

## 情報管理について

研修を進めていくにあたり、インフラに関係する秘匿情報をいくつか扱うことになります。秘匿情報とはログインパスワードや秘密鍵など特定の人のみがアクセスできることが望ましい情報の事をさします。秘匿情報は公開できないので、インフラのコードはGH:Eを使って管理をすることにします。

## バックログの作成

これからチームで作業をしていくにあたり、はじめに計画づくりを行います。ここでのゴールは、これからの作業をタスクに分割し、優先順位をつけて1列に並べることです。正確さを追い求めすぎるのはよくありませんので、大中小程度の見積りで構いません。タスク分割ができるほどインフラ構築に関して知識が無いと判断した場合は、調査タスクを作るなどしてください。

### 管理ツール

この研修ではタスクの管理に GitHub Project を使用します。社内では、よりプロジェクト管理ツールとして高機能な[PivotalTracker](https://www.pivotaltracker.com)を使っているチームや、[Trello](https://trello.com)などを使っているチームもあります。今回は GH:E でも使える GitHub Project を活用し、 GH:E により馴染んでもらいます。

## 注意点

### グローバルIPの節約

Nyah上のサーバが使えるグローバルIPアドレスの数には限りがあります。実際にサービスを提供しているサーバでも、必要ないものにはグローバルIPを付与しないようにしています。この研修で立てるサーバも、グローバルIPが必要なものだけに付与するようにしてください。

### コスト

Web開発研修から使用しているBaytも、この研修で利用するNyahも、利用すればコストが発生します。無駄遣いの無いように注意しましょう。

## Nyahについて

ペパボでは、OpenStackをベースとしたプライベートクラウドを運用しており、それをNyahと呼んでいます。Nyah上にはいくつものサービスが構築されています。
OpenStackにはSeriesと呼ばれるコンポーネントのバージョンを識別するための名前があります。2017年7月現在、ペパボにはMitaka, Havanaで構成されたプライベートクラウドがあります。
Mitakaで構築されたものをNyah, Havanaで構築された物をNyah Classicと呼んでいます。Nyah Classicにあるインスタンスは徐々にNyahに移設されています。
今回の研修ではNyahを使って行います。

| code name | Series |
| --- | --- |
| Nyah | Mitaka |
| Nyah Classic | Havana |

Nyahについての詳細は以下の資料も御覧ください。

- [Nyah ポチポチするために ニャーニャーしよう](http://www.slideshare.net/ume3_/pb-tc01-bob001)
- [ペパボのプライベートクラウド "Nyah" その後](https://speakerdeck.com/tnmt/pepabos-privatecloud-nyah-after-that)
