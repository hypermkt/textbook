# Webオペレーション研修

## 目的

- ユーザへの価値提供を意識した構成管理を学ぶ
- 高可用なインフラ構成を学ぶ
- Nyahの使い方を学ぶ

## はじめに

この研修では、Web開発研修でつくったWebアプリケーションを動かすためのインフラを構築します。単にサーバを立てるだけならば、さほど時間のかかる話ではありません。重要なのは、ユーザへ継続的に価値を届けることができるように構築・運用をしていくことです。

サーバのあるべき状態とそのテストをコード化し、構築を自動化することで、どのようなメリットが得られるのか。また、システムの一部に障害が起きてもサービスを止めないためにはどのような構成にすればよいかの一例を学んでいきます。そして最終的には、ペパボのプライベートクラウドであるNyahの上でRailsアプリを動作させ、外からアクセスできるようにしていきます。ペパボのサービスはNyah上での運用が主流となっていますので、インフラエンジニアに限らず、Nyahの上で動くサービスを開発できるよう、使い方を把握してほしいと思います。

## DevOps と Infrastructure as Code

Webオペレーション研修を行なうにあたり、押さえてほしい言葉として「DevOps」、「Infrastructure as Code」というものがあります。

DevOps とは開発を意味する Development と運用を意味する Operation をかけ合わせた言葉です。開発担当者と運用担当者が別々のフローを行なうのでなく、協力し１つのフローを行なうといった考え方になります。具体的にはbuild, test, releaseを迅速かつ確実に行なうことを目的としています。ここには「アジャイル開発」や「継続的デリバリー(CD)」と言った考え方と大きな関係性があります。

Infrastructure as Codeとはインフラに関わる構成や設定などをコード化するといった意味があります。この言葉は、CFEngine, Puppet, Chefといった構成管理ツールが生まれ。これらのツールを表す言葉として唱えられるようになりました。なので登場した直後はインフラ構成の自動化が主たる目的とされていました。しかし、DevOpsの考え方により、IaaSの構成管理、設定の管理、テスト、モニタリングなどのプラクティスも考え方に含まれるようになりました。

これらの言葉は、Web 開発の現場で頻繁に唱えられるようになっています。ペパボでは特に意識しなくても実践されていることですが、それぞれの背景や歴史について調査することで、それぞれの技術についてより深く理解できると思います。

### 参考

- Infrastructure as Code - O'Reilly
- [Infrastructure as Code 再考](http://mizzy.org/blog/2016/04/22/1/)

## チャプター

上から順番に実行していきます。
チームで情報共有を行いながら進めていってください。

### 研修の内容

研修の概要と採用技術についてです。

- [進め方](./chapters/about.md)
- [この研修で目指す構成](./chapters/system-overview.md)
- [採用技術と研修での使い方](./chapters/tools.md)

### 基礎技術の体得

Docker(docker-compose)とPuppetの基本的な使い方を学びます。

- [Dockerについて](./chapters/docker.md)
- [Puppetについて](./chapters/puppet.md)

### 実践

実際にチームで分業をしながらインフラの構築を行います。

- [全部載せコンテナ](./chapters/all_in_one.md)
- [Puppetserverと踏み台サーバ](./chapters/bastion_puppetserver.md)
- [ロール毎のホストの分離](./chapters/dividing_into_roles.md)
- [バーチャルホスト](./chapters/virtualhost.md)
- [冗長構成](./chapters/redundant.md)
- [さらなる高みへ](./chapters/higher.md)
